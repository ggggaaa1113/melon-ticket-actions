name: P1Harmony 2026 Ticket Monitor

on:
  schedule:
    - cron: '*/5 * * * *'
  
  workflow_dispatch:
    inputs:
      custom_schedule_id:
        description: '100001'
        required: false
        default: '1'

jobs:
  monitor-p1harmony:
    runs-on: ubuntu-latest
    timeout-minutes: 10 
    
    steps:
      - name: Check P1Harmony Tickets
        uses: mooyoul/melon-ticket-actions@v1.1.0
        with:
          product-id: '212678' 

          schedule-id: ${{ github.event.inputs.custom_schedule_id || '1' }}
          
          seat-id: '1_0' 
          
          slack-incoming-webhook-url: ${{ secrets.SLACK_WEBHOOK_URL }}

          message: 'ğŸš¨ P1Harmony 2026 í‹°ì¼“ ì˜¤í”ˆ! ì„œë‘ë¥´ì„¸ìš”!'
          
        env:
          MELON_USERNAME: ${{ secrets.MELON_USERNAME }}
          MELON_PASSWORD: ${{ secrets.MELON_PASSWORD }}
